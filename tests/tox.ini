[tox]
envlist = pkg, req
toxworkdir=/tmp/.tox/{env:TOX_ENVNAME}

[testenv]
passenv = *
allowlist_externals =
    bash
commands =
    bash -c "cp -r * {envtmpdir}"
    python -m unittest discover {envtmpdir} -p "t_*.py"

[testenv:pkg]
deps = ..
setenv =
    PYTHONPATH = {envtmpdir}


[testenv:req]
deps = -r ../requirements.txt
setenv =
    PYTHONPATH = ..
